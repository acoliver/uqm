# Phase 07: Color Parser Fix — TDD [OK]

## Phase ID
`PLAN-20260224-RES-SWAP.P07`

## Completion Date
2026-02-24

## What Was Done
Added 24 `#[ignore]` TDD tests in `resource_type.rs`:

### Color Parsing Tests (18)
- `test_parse_c_color_rgb_decimal` — decimal components
- `test_parse_c_color_rgb_hex` — hex (0xff) components
- `test_parse_c_color_rgb_hex_uppercase` — hex (0xFF) uppercase
- `test_parse_c_color_rgb_mixed` — mixed decimal/hex
- `test_parse_c_color_rgba` — rgba with decimal
- `test_parse_c_color_rgba_hex` — rgba with hex
- `test_parse_c_color_rgb15` — 5-bit to 8-bit via CC5TO8
- `test_parse_c_color_rgb15_mid` — CC5TO8(15) = 123
- `test_parse_c_color_rgb15_zero` — CC5TO8(0) = 0
- `test_parse_c_color_clamp_high` — clamp >255 to 255
- `test_parse_c_color_clamp_negative` — clamp <0 to 0
- `test_parse_c_color_clamp_rgb15` — clamp >31 to 31
- `test_parse_c_color_whitespace` — sscanf whitespace tolerance
- `test_parse_c_color_octal` — C %i octal (010=8, 020=16, 030=24)
- `test_parse_c_color_rgb_octal_full` — octal (0377=255)
- `test_parse_c_color_invalid` — garbage input -> Err
- `test_parse_c_color_invalid_hex_format` — #RRGGBB -> Err
- `test_parse_c_color_empty` — empty string -> Err

### Color Serialization Tests (6)
- `test_serialize_color_opaque` — alpha=255 -> rgb(0xRR, 0xGG, 0xBB)
- `test_serialize_color_transparent` — alpha<255 -> rgba(...)
- `test_serialize_color_zero_alpha` — alpha=0 -> rgba(...)
- `test_serialize_color_black_opaque` — (0,0,0,255) -> rgb(0x00, 0x00, 0x00)
- `test_serialize_color_roundtrip_rgb` — parse->serialize identity
- `test_serialize_color_roundtrip_rgba` — parse->serialize identity

## Verification
- `cargo test --lib --all-features`: 1185 passed, 0 failed, 28 ignored
- All 24 new tests compile and are `#[ignore]` (RED state — stubs are `todo!()`)
- Existing tests unaffected
