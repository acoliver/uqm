# Phase Completion: P24

## Phase ID
`PLAN-20260223-GFX-FULL-PORT.P24`

## Timestamp
2026-02-23

## Status: DEFERRED

## Summary
P24 (Widget + GfxLoad Bridge) is deferred. The widget system depends on
frame.c, font.c, context.c, and drawable.c which have deep dependency
chains into the C game code. Guarding these files requires creating
frame_ffi.rs, font_ffi.rs, context_ffi.rs, and drawable_ffi.rs â€” a
substantial effort that goes beyond the current vtable+drawing pipeline scope.

### What was discovered in P22-P23:
- C dependency chains prevent individual file guarding
- The `rust_*` prefixed FFI exports exist but C callers use original C symbol names
- A symbol-level replacement strategy (dispatch macros or linker-level aliasing) is
  needed before more C files can be guarded

### What exists today:
- **Vtable layer**: 17 FFI exports in ffi.rs (fully implemented)
- **Canvas bridge**: 11 FFI exports in canvas_ffi.rs (fully implemented)
- **DCQ bridge**: 20 FFI exports in dcq_ffi.rs (fully implemented)
- **Colormap bridge**: 10 FFI exports in cmap_ffi.rs (fully implemented)
- **Total**: 58 Rust FFI exports for the drawing pipeline

### What's deferred:
- frame_ffi.rs (~18 functions from frame.c)
- font_ffi.rs (~7 functions from font.c)
- context_ffi.rs (~15 functions from context.c)
- drawable_ffi.rs (~18 functions from drawable.c)
- widget_ffi.rs or widget.c bridging
- Guards on frame.c, font.c, context.c, drawable.c, widgets.c
- GfxLoad bridging (gfxload.c, filegfx.c, resgfx.c, loaddisp.c, png2sdl.c)
